runtime:
  dind:
    image:
      tag: tagoverride
      pullPolicy: Always
      digest: ""
    resources:
      requests: null
      limits:
        cpu: 1000m
        memory: 2048Mi
    pvcs:
      dind:
        name: dind
        storageClassName: my-custom-storage-class
        volumeSize: 8Gi
        reuseVolumeSelector: 'codefresh-app,io.codefresh.accountName'
        reuseVolumeSortOrder: pipeline_id
    env:
      ALICE: BOB
      INT_AS_STRING: "123"
      FLOAT: 12.34
    podAnnotations:
      karpenter.sh/do-not-evict: 'true'
    podLabels:
      key: dind
    nodeSelector:
      topology.kubernetes.io/zone: us-east-1a
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
              - key: app
                operator: In
                values:
                - dind
    tolerations:
      - effect: NoSchedule
        key: codefresh.io
        operator: Equal
        value: dinds
    serviceAccount: service-account-override
    userVolumeMounts:
      my-cert:
        name: cert
        mountPath: /etc/ssl/cert
        readOnly: true
    userVolumes:
      my-cert:
        name: cert
        secret:
          secretName: tls-secret

  engine:
    image:
      tag: tagoverride
      pullPolicy: Always
      digest: ""
    command:
      - one
      - two
      - three
    resources:
      requests:
        cpu: 200m
        memory: 256Mi
      limits:
        cpu: 200m
        memory: 256Mi
    runtimeImages:
      # check legacy way to specify runtime images
      COMPOSE_IMAGE: quay.io/codefresh/compose:tagoverride
      # compose:
      #   image:
      #     tag: tagoverride
      #     digest: ""
      container-logger:
        image:
          tag: tagoverride
          digest: ""
      default-qemu:
        image:
          tag: tagoverride
          digest: ""
      docker-builder:
        image:
          tag: tagoverride
          digest: ""
      docker-puller:
        image:
          tag: tagoverride
          digest: ""
      docker-pusher:
        image:
          tag: tagoverride
          digest: ""
      docker-tag-pusher:
        image:
          tag: tagoverride
          digest: ""
      fs-ops:
        image:
          tag: tagoverride
          digest: ""
      git-cloner:
        image:
          tag: tagoverride
          digest: ""
      kube-deploy:
        image:
          tag: tagoverride
          digest: ""
      pipeline-debugger:
        image:
          tag: tagoverride
          digest: ""
      template-engine:
        image:
          tag: tagoverride
          digest: ""
      alpine:
        image:
          tag: tagoverride
          digest: ""
      gc-builder:
        image:
          tag: tagoverride
          digest: ""
      cosign-image-signer:
        image:
          tag: tagoverride
          digest: ""
    env:
      FOO: BAR
      INT_AS_STRING: "123"
      FLOAT: 12.34
      TRUSTED_QEMU_IMAGES: 'my-registry/tonistiigi/binfmt'
    userEnvVars:
    - name: ALICE
      valueFrom:
        secretKeyRef:
          name: alice-secret
          key: token
    podAnnotations:
      karpenter.sh/do-not-evict: 'true'
    podLabels:
      key: engine
    nodeSelector:
      topology.kubernetes.io/zone: us-east-1a
    affinity:
      nodeAffinity:
        requiredDuringSchedulingIgnoredDuringExecution:
          nodeSelectorTerms:
          - matchExpressions:
              - key: app
                operator: In
                values:
                - engine
    tolerations:
      - effect: NoSchedule
        key: codefresh.io
        operator: Equal
        value: engine
    serviceAccount: service-account-override
